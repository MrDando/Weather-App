(()=>{var e={743:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/01d.bb12110913b82093ff9f50668507fa6b.svg"},518:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/01n.ad2e2fdfb7353f6f25e69ea489fdee2f.svg"},314:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/02d.b99b6d2cae010370a0b4f304b678fc8e.svg"},524:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/02n.65e9d88401552563b8099da28b35e393.svg"},242:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/03d.7f28cf1344d63c8cb44cf30527cd9f85.svg"},220:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/03n.7f28cf1344d63c8cb44cf30527cd9f85.svg"},726:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/04d.3c1cca235a47f23bd93724c5158ca763.svg"},635:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/04n.3c1cca235a47f23bd93724c5158ca763.svg"},47:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/09d.16096371ce2e7dbcd9443a02d481342d.svg"},765:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/09n.53623f5fc695ec45d9f61f8704254af1.svg"},389:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/10d.cc9117862f06157223c52529a7d0a8ce.svg"},425:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/10n.c6aeb9ada97a30f6f42dcc05647bb9bc.svg"},737:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/11d.eab2293054cbe43bac26a4a98533eeb5.svg"},563:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/11n.7037bd3024d751fe47a1f01c5d8674a1.svg"},908:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/13d.4356e874090e7c6eb0a55346b4761322.svg"},525:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/13n.48908c89201d09b68386ec36f5859057.svg"},686:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/50d.caa698290788d5e0b218500a86c78315.svg"},345:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="images/50n.6715db65d81a74c770d9a4587cdf1b38.svg"},798:function(e,t,n){e=n.nmd(e),function(n,r){"use strict";var c={};n.PubSub=c,function(e){var t={},n=-1,r="*";function c(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function o(e){return function(){throw e}}function s(e,t,n){try{e(t,n)}catch(e){setTimeout(o(e),0)}}function i(e,t,n){e(t,n)}function a(e,n,r,c){var o,a=t[n],d=c?i:s;if(Object.prototype.hasOwnProperty.call(t,n))for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&d(a[o],e,r)}function d(e,t,n){return function(){var c=String(e),o=c.lastIndexOf(".");for(a(e,e,t,n);-1!==o;)o=(c=c.substr(0,o)).lastIndexOf("."),a(e,c,t,n);a(e,r,t,n)}}function u(e){var n=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,n)&&c(t[n]))}function l(e){for(var t=String(e),n=u(t)||u(r),c=t.lastIndexOf(".");!n&&-1!==c;)c=(t=t.substr(0,c)).lastIndexOf("."),n=u(t);return n}function f(e,t,n,r){var c=d(e="symbol"==typeof e?e.toString():e,t,r);return!!l(e)&&(!0===n?c():setTimeout(c,0),!0)}e.publish=function(t,n){return f(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return f(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var c="uid_"+String(++n);return t[e][c]=r,c},e.subscribeAll=function(t){return e.subscribe(r,t)},e.subscribeOnce=function(t,n){var r=e.subscribe(t,(function(){e.unsubscribe(r),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function(e){var n,r,c=0;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)){for(r in t[n])c++;break}return c},e.getSubscriptions=function(e){var n,r=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&r.push(n);return r},e.unsubscribe=function(n){var r,c,o,s=function(e){var n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e))return!0;return!1},i="string"==typeof n&&(Object.prototype.hasOwnProperty.call(t,n)||s(n)),a=!i&&"string"==typeof n,d="function"==typeof n,u=!1;if(!i){for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(c=t[r],a&&c[n]){delete c[n],u=n;break}if(d)for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&c[o]===n&&(delete c[o],u=!0)}return u}e.clearSubscriptions(n)}}(c),void 0!==e&&e.exports&&(t=e.exports=c),t.PubSub=c,e.exports=t=c}("object"==typeof window&&window||this)},946:(e,t,n)=>{var r={"./01d.svg":743,"./01n.svg":518,"./02d.svg":314,"./02n.svg":524,"./03d.svg":242,"./03n.svg":220,"./04d.svg":726,"./04n.svg":635,"./09d.svg":47,"./09n.svg":765,"./10d.svg":389,"./10n.svg":425,"./11d.svg":737,"./11n.svg":563,"./13d.svg":908,"./13n.svg":525,"./50d.svg":686,"./50n.svg":345};function c(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=o,e.exports=c,c.id=946}},t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.loaded=!0,c.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=n(798),t=n.n(e);function r(e){let t;return["city","town","village","hamlet","city_district"].forEach((n=>{e.components.hasOwnProperty(n)&&(t=e.components[n])})),t}const c=function(){let e,n,c,o=[],s="metric";async function i(e,r,o=null){o&&(n=o),t().publish("SHOW LOADING SCREEN");c=await async function(e,t,n,r){const c=`https://api.openweathermap.org/data/2.5/onecall?lat=${t}&lon=${n}&appid=${e}&units=${r}`,o=await fetch(c);return await o.json()}("7e82125835d749e0e51d3420e0cdf1ed",e,r,"metric"),t().publish("RENDER WEATHER DATA",[n,c,s])}return t().subscribe("LOCATION SELECTED",(function(t,c){const{id:s}=c.dataset;e=o[s],n=r(e);const{lat:a}=e.geometry,{lng:d}=e.geometry;i(a,d)})),{searchForm:async function(){const n=document.getElementById("search-input").value;if(""===n?(t().publish("SHOW ERROR MESSAGE","Please enter a location name"),!1):(t().publish("REMOVE ERROR MESSAGE"),!0)){const r="8f6b0328053f4228ab88381794a2a47f",c=await async function(e,t,n=null){const r=await async function(){const n=`https://api.opencagedata.com/geocode/v1/json?q=${t}&key=${e}&no_annotations=1`,r=await fetch(n);return(await r.json()).results}();if(n)return function(e,t){const n=[];return e.forEach((e=>{t.includes(e.components._type)&&n.push(e)})),n}(r,["city","village","neighbourhood"]);return r}(r,n,["city","village"]);if(o=c,0===o.length&&t().publish("SHOW ERROR MESSAGE","No valid locations found"),1===o.length){e=o[0];const{lat:t}=e.geometry,{lng:n}=e.geometry;i(t,n)}else t().publish("RENDER SEARCH RESULTS",c)}},switchUnits:function(){s="metric"===s?"imperial":"metric",t().publish("RENDER WEATHER DATA",[n,c,s])},requestWeather:i}}();t().subscribe("RENDER SEARCH RESULTS",(function(e,n){const c=document.getElementById("search-results");function o(){c.innerText="",t().publish("LOCATION SELECTED",this)}c.innerText="",n.forEach((e=>function(e){const t=document.createElement("div");t.setAttribute("data-id",n.indexOf(e)),t.classList.add("result"),t.addEventListener("click",o);const s=document.createElement("div"),i=document.createElement("div");s.classList.add("top"),s.classList.add("flex"),i.classList.add("bottom"),i.classList.add("flex");const a=document.createElement("h3"),d=document.createElement("p"),u=document.createElement("p");a.innerText=r(e),d.innerText=e.components._type,u.innerText=function(){let t;const{county:n}=e.components,{state:r}=e.components,c=e.components["ISO_3166-1_alpha-3"];return t=n&&r&&c?`${n}, ${r}, ${c}`:n&&c?`${n}, ${c}`:r&&c?`${r}, ${c}`:c,t}(),s.appendChild(a),s.appendChild(d),i.appendChild(u),s.appendChild(a),s.appendChild(d),t.appendChild(s),t.appendChild(i),c.appendChild(t)}(e)))})),t().subscribe("RENDER WEATHER DATA",(function(e,t){const r=t[0],c=t[1],o=t[2];function s(e){return 1.8*e+32}const i=function(e){const t={};return e.keys().map(((n,r)=>{t[n.replace("./","")]=e(n)})),t}(n(946));!function(){const e=document.getElementById("current-conditions-container"),t=c.current;document.getElementById("location-name").innerText=r,function(){const n=e.querySelector(".icon");n.innerText="";const r=document.createElement("img"),c=e.querySelector(".description span"),o=`${t.weather[0].icon}.svg`,s=i[o];r.src=s.default;const{description:a}=t.weather[0];c.innerText=a.charAt(0).toUpperCase()+a.slice(1),n.appendChild(r)}(),function(){const n=e.querySelector(".exact .value");let r=t.temp;r="metric"===o?Math.round(r):Math.round(s(r)),n.innerText=r;const c=e.querySelector(".exact .units");c.innerHTML="metric"===o?"°C":"°F";const i=e.querySelector(".feels-like span");let a=t.feels_like;a="metric"===o?Math.round(a):Math.round(s(a)),i.innerText=`Feels like: ${a}°`}(),function(){const t=e.querySelector(".alerts"),n=e.querySelector(".alerts .value"),{alerts:r}=c;r?(n.innerText=r[0].event,t.classList.add("danger")):(n.innerText="No Alerts",t.classList.remove("danger"))}(),function(){const t=e.querySelector(".precipitation .value");t.innerText="";const{rain:n}=c.current,{snow:r}=c.current;t.innerText=n&&r?Math.round(10*(n["1h"]+r["1h"]))/10+" mm":n?Math.round(10*n["1h"])/10+" mm":r?Math.round(10*r["1h"])/10+" mm":"0 mm"}(),function(){const n=e.querySelector(".wind .value"),r=`${Math.round(t.wind_speed)} m/s`,c=function(e){let t=parseFloat(e);if(t<=11.25)return"N";t-=11.25;const n=["NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"],r=parseInt(t/22.5);return n[r]?n[r]:"N"}(t.wind_deg);n.innerText=`${c} ${r} `}(),function(){const n=e.querySelector(".humidity .value"),{humidity:r}=t;n.innerText=`${r} %`}()}(),function(){const e=c.daily,t=document.querySelector("#forecast-container");function n(e,t,n){const r=document.createElement("td");r.classList.add("first-column");const c=0===e?"Today":function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]}(t),o=function(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]}(t),s=t.getDate();r.innerText=`${c}, ${o}. ${s}`,n.appendChild(r)}function r(e,t){const n=document.createElement("td"),r=document.createElement("img"),c=i[`${e}.svg`].default;r.src=c,n.appendChild(r),t.appendChild(n)}function a(e,t){const n=document.createElement("td"),r=document.createElement("span");let c=e.max,i=e.min;"metric"===o?(c=Math.round(c),i=Math.round(i)):(c=Math.round(s(c)),i=Math.round(s(i))),r.innerText=`${c}° / ${i}°`,n.appendChild(r),t.appendChild(n)}function d(e,t){const n=document.createElement("td"),r=document.createElement("span"),{rain:c}=e,{snow:o}=e;let s;s=c&&o?c+o:c||o||0,s=s>10?Math.round(s):Math.round(10*s)/10,r.innerText=`${s} mm`,n.appendChild(r),t.appendChild(n)}function u(e,t){const n=document.createElement("td"),r=document.createElement("span");r.innerText=`${Math.round(e)} m/s`,n.appendChild(r),t.appendChild(n)}t.innerText="";for(let c=0;c<e.length;c+=1){const o=document.createElement("tr"),s=e[c];o.classList.add("day"),n(c,(l=s.dt,new Date(1e3*l)),o),r(s.weather[0].icon,o),a(s.temp,o),d(s,o),u(s.wind_speed,o),t.appendChild(o)}var l}(),setTimeout((()=>{!function(){const e=document.querySelector("main");e.querySelector(".loading-screen").classList.add("hidden"),e.querySelector("#current-conditions-container").classList.remove("hidden"),e.querySelector("#forecast-table").classList.remove("hidden")}()}),1e3)})),t().subscribe("SHOW LOADING SCREEN",(function(){const e=document.querySelector("main");e.querySelector(".loading-screen").classList.remove("hidden"),e.querySelector("#current-conditions-container").classList.add("hidden"),e.querySelector("#forecast-table").classList.add("hidden")})),t().subscribe("SHOW ERROR MESSAGE",(function(e,t){const n=document.querySelector("#search-wrapper");if(!n.querySelector(".error")){const e=document.createElement("small");e.classList.add("error"),e.innerText=t,n.appendChild(e)}})),t().subscribe("REMOVE ERROR MESSAGE",(function(){const e=document.querySelector(".error");e&&e.remove()}));document.querySelector("#search-wrapper form").addEventListener("submit",c.searchForm),document.getElementById("switch-span").addEventListener("click",c.switchUnits),async function(){const e=await fetch("https://ipapi.co/json/",{mode:"cors"}),t=await e.json(),{city:n}=t,{latitude:r}=t,{longitude:o}=t;c.requestWeather(r,o,n)}()})()})();